<template>
  <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 600 237" id="logo-vertical" @mouseover="overLogo" @mouseout="outLogo">
    <g transform="translate(-27.686 -23.017)">
      <g id="vertical-claro" transform="matrix(1.0901 0 0 -1.0901 -819.71 655.96)">
        <g transform="translate(792.58 520.67)">
          <path id="letter-Ca" d="m0 0c-1.932 0-3.923 1.33-4.633 3.094l-10.059 24.999c-0.664 1.653-0.652 4.237 0.03 5.884l9.067 21.887c0.75 1.811 2.872 3.267 4.832 3.313l19.032 0.45c2.132 0 3.894-1.474 4.01-3.355 0.118-1.912-1.541-3.613-3.7-3.791l-14.087-1.162c-0.94-0.077-2.098-0.952-2.43-1.836l-5.98-15.923c-0.404-1.077-0.424-2.972-0.042-4.056l6.364-18.067c0.302-0.859 1.406-1.672 2.315-1.704l16.302-0.596c2.149-0.078 3.925-1.699 4.043-3.69 0.122-2.016-1.543-3.782-3.71-3.936l-21.056-1.501c-0.099-0.006-0.198-0.01-0.298-0.01m18.269 56.988-18.97-0.449c-0.931-0.022-2.102-0.825-2.459-1.686l-9.067-21.887c-0.42-1.015-0.429-2.868-0.019-3.887l10.058-24.999c0.314-0.781 1.316-1.441 2.188-1.441h0.001c0.036 0 0.072 0.001 0.109 0.004l21.057 1.5c0.72 0.051 1.3 0.576 1.267 1.146-0.038 0.617-0.742 1.183-1.508 1.211l-16.303 0.595c-1.98 0.072-4.047 1.594-4.706 3.465l-6.363 18.066c-0.581 1.65-0.555 4.225 0.061 5.862l5.98 15.924c0.685 1.824 2.74 3.377 4.68 3.538l14.088 1.161c0.767 0.063 1.311 0.579 1.285 0.998-0.026 0.415-0.621 0.879-1.379 0.879"/>
        </g>
        <g transform="translate(847.19 520.7)">
          <path id="letter-Oa" d="m0 0c-0.596 0-1.159 0.098-1.673 0.293l-23.698 8.974c-1.86 0.705-3.317 2.816-3.317 4.807v26.339c0 1.831 1.007 4.155 2.344 5.405l13.758 12.879c0.856 0.802 2.085 1.261 3.372 1.261 0.876 0 1.704-0.215 2.394-0.621l21.649-12.727c1.652-0.971 2.902-3.233 2.847-5.15l-0.63-21.825c-0.05-1.745-0.99-4.141-2.14-5.454l-10.918-12.473c-0.923-1.053-2.451-1.708-3.988-1.708m-9.214 57.319c-0.608 0-1.21-0.21-1.572-0.549l-13.758-12.879c-0.789-0.739-1.508-2.396-1.508-3.478v-26.339c0-0.904 0.769-2.019 1.614-2.339l23.698-8.974c0.211-0.08 0.467-0.122 0.74-0.122 0.776 0 1.582 0.325 2.005 0.809l10.919 12.472c0.759 0.867 1.454 2.638 1.487 3.791l0.63 21.825c0.028 0.972-0.709 2.306-1.547 2.799l-21.649 12.727c-0.282 0.166-0.658 0.257-1.059 0.257"/>
        </g>
        <g transform="translate(904.51 520.94)">
          <path id="letter-C" d="m0 0c-1.721 0-3.885 1.113-5.036 2.589l-19.943 25.589-1.43-24.302c-0.125-2.117-1.822-3.839-3.784-3.839h-0.054c-1.999 0.032-3.65 1.816-3.682 3.976l-0.764 52.978c-0.014 0.948 0.192 1.625 0.628 2.068 0.312 0.317 0.725 0.492 1.164 0.492 1.111 0 1.79-1.071 2.013-1.424l26.59-41.953 2.361 39.542c0.129 2.173 1.671 3.876 3.51 3.876 0.804 0 1.575-0.337 2.172-0.947 0.741-0.758 1.152-1.866 1.126-3.04l-1.121-51.676c-0.048-2.166-1.729-3.929-3.75-3.929m-25.503 31.706c0.742 0 1.44-0.413 2.074-1.227l20.472-26.267c0.641-0.823 2.051-1.573 2.957-1.573 0.588 0 1.098 0.617 1.114 1.347l1.122 51.676c0.012 0.544-0.186 0.944-0.375 1.137-0.069 0.07-0.174 0.154-0.288 0.154-0.317 0-0.829-0.556-0.879-1.394l-2.447-40.984c-0.139-2.341-1.639-2.459-1.938-2.459-0.768 0-1.461 0.479-2.06 1.425l-26.277 41.459 0.735-50.948c0.01-0.724 0.519-1.367 1.087-1.376 0.585 0 1.123 0.633 1.165 1.355l1.481 25.16c0.14 2.393 1.738 2.515 2.057 2.515"/>
        </g>
        <g transform="translate(792.58 441.5)">
          <path id="letter-Cb" d="m0 0c-1.932 0-3.924 1.33-4.634 3.095l-10.059 24.999c-0.676 1.68-0.663 4.209 0.03 5.883l9.067 21.887c0.75 1.812 2.872 3.267 4.832 3.314l19.033 0.449c2.056 0 3.925-1.405 4.254-3.198 0.161-0.881-0.056-1.763-0.611-2.487-0.638-0.832-1.662-1.363-2.81-1.455l-14.614-1.173c-0.939-0.076-2.095-0.948-2.427-1.83l-5.98-15.924c-0.404-1.077-0.424-2.972-0.042-4.056l6.364-18.067c0.302-0.859 1.406-1.672 2.315-1.705l16.303-0.595c2.148-0.078 3.924-1.699 4.042-3.69 0.122-2.016-1.543-3.782-3.71-3.936l-21.056-1.501c-0.099-0.006-0.198-0.01-0.297-0.01m18.269 56.988-18.971-0.449c-0.931-0.022-2.102-0.825-2.459-1.686l-9.067-21.886c-0.42-1.016-0.429-2.868-0.019-3.888l10.058-24.999c0.327-0.814 1.387-1.5 2.299-1.437l21.056 1.501c0.72 0.051 1.3 0.576 1.267 1.145-0.038 0.618-0.742 1.183-1.509 1.211l-16.302 0.595c-1.98 0.072-4.047 1.595-4.705 3.465l-6.364 18.066c-0.581 1.65-0.555 4.225 0.061 5.862l5.98 15.924c0.685 1.825 2.742 3.376 4.683 3.532l14.614 1.173c0.4 0.032 0.748 0.194 0.931 0.432 0.146 0.192 0.117 0.351 0.108 0.404-0.09 0.489-0.819 1.035-1.661 1.035"/>
        </g>
        <g transform="translate(838.09 441.38)">
          <path id="letter-E" d="m0 0c-1.965 0-3.951 1.377-4.617 3.202l-6.793 18.597c-0.565 1.548-0.884 4.045-0.725 5.685l2.636 27.293c0.203 2.103 2.013 3.849 4.119 3.976l23.456 1.412c2.152 0.132 4.059-1.341 4.283-3.241 0.226-1.916-1.304-3.779-3.41-4.154l-17.719-3.152c-0.821-0.146-1.613-1.039-1.66-1.873l-0.757-13.22c-0.018-0.325 0.086-0.626 0.294-0.846s0.499-0.341 0.822-0.341l13.315 0.265c2.174 0 3.877-1.346 3.877-3.064 0-1.673-1.605-3.172-3.734-3.486l-12.781-1.886c-0.342-0.05-0.644-0.232-0.85-0.512-0.205-0.281-0.289-0.624-0.235-0.966l2.181-13.765c0.129-0.816 0.966-1.555 1.79-1.583l13.587-0.459c2.095-0.071 3.935-1.489 4.19-3.23 0.118-0.811-0.113-1.621-0.651-2.281-0.665-0.815-1.728-1.321-2.917-1.388l-17.47-0.976c-0.076-0.004-0.154-0.007-0.231-0.007m18.342 57.534c-0.035 0-0.071-0.001-0.108-0.003l-23.456-1.413c-0.803-0.048-1.576-0.793-1.653-1.595l-2.636-27.292c-0.12-1.241 0.15-3.356 0.577-4.526l6.793-18.597c0.286-0.782 1.286-1.469 2.141-1.469l0.084 0.002 17.47 0.977c0.524 0.03 0.872 0.237 1.022 0.422 0.1 0.123 0.088 0.2 0.084 0.23-0.053 0.367-0.747 0.944-1.669 0.974l-13.587 0.459c-2.088 0.071-3.978 1.743-4.305 3.808l-2.181 13.764c-0.166 1.045 0.088 2.089 0.714 2.942s1.545 1.407 2.59 1.562l12.781 1.885c0.906 0.134 1.456 0.685 1.482 0.88-0.046 0.097-0.489 0.42-1.241 0.42l-13.315-0.265c-1.055 0-2.028 0.414-2.738 1.168-0.711 0.754-1.07 1.751-1.009 2.809l0.755 13.22c0.118 2.061 1.802 3.959 3.832 4.32l17.719 3.153c0.785 0.139 1.309 0.772 1.253 1.245-0.052 0.444-0.626 0.92-1.399 0.92"/>
        </g>
        <g transform="translate(880.99 441.59)">
          <path id="letter-P" d="m0 0-0.059 0.001c-1.785 0.037-3.337 1.736-3.532 3.868l-4.837 52.563c-0.095 1.034 0.215 2 0.872 2.722 0.729 0.799 1.772 1.2 2.949 1.086l27.602-2.672c2.068-0.2 3.869-1.976 4.099-4.044l1.966-17.612c0.233-2.093-1.245-4.174-3.297-4.64l-20.023-4.546c-0.827-0.187-1.607-1.131-1.636-1.979l-0.722-20.877c-0.074-2.17-1.56-3.87-3.382-3.87m-4.985 57.62c-0.263 0-0.478-0.085-0.623-0.245-0.155-0.169-0.222-0.411-0.195-0.701l4.836-52.563c0.083-0.903 0.671-1.466 0.963-1.472l0.004-1.32v1.32c0.248 0 0.72 0.502 0.748 1.322l0.721 20.877c0.071 2.049 1.691 4.009 3.688 4.462l20.024 4.546c0.756 0.172 1.346 1 1.26 1.773l-1.966 17.612c-0.091 0.816-0.917 1.631-1.734 1.71l-27.601 2.672c-0.043 0.004-0.085 0.007-0.125 0.007"/>
        </g>
        <g transform="translate(796.95 362.54)">
          <path id="letter-T" d="m0 0c-1.751 0-3.23 1.7-3.366 3.87l-2.753 43.887c-0.047 0.758-0.728 1.397-1.485 1.397h-7.544c-2.119 0-3.995 1.719-4.181 3.832l-0.18 2.035c-0.094 1.066 0.239 2.086 0.94 2.87 0.7 0.786 1.674 1.233 2.743 1.26l27.973 0.703c2.102 0 3.94-1.634 4.185-3.721l0.212-1.798c0.126-1.061-0.196-2.111-0.88-2.882-0.685-0.771-1.689-1.212-2.756-1.212h-7.332c-0.729 0-1.358-0.617-1.374-1.348l-0.943-44.963c-0.047-2.204-1.478-3.93-3.259-3.93m12.147 57.215-27.907-0.702c-0.333-0.008-0.633-0.143-0.843-0.379-0.209-0.236-0.309-0.549-0.28-0.881l0.18-2.034c0.067-0.76 0.794-1.426 1.555-1.426h7.544c2.135 0 3.982-1.736 4.116-3.87l2.753-43.887c0.056-0.902 0.574-1.397 0.735-1.397 0.148 0 0.605 0.478 0.624 1.347l0.943 44.963c0.046 2.168 1.844 3.931 4.009 3.931h7.332c0.32 0 0.599 0.115 0.786 0.326 0.188 0.212 0.27 0.503 0.233 0.821l-0.212 1.798c-0.089 0.753-0.807 1.39-1.568 1.39"/>
        </g>
        <g transform="translate(824.93 362.88)">
          <path id="letter-H" d="m0 0-0.06 0.001c-1.545 0.046-2.636 1.737-2.596 4.021l0.919 51.287c0.039 2.19 1.291 3.931 2.911 4.049 1.682 0.124 3.083-1.524 3.253-3.728l1.567-20.288c0.058-0.743 0.736-1.371 1.482-1.371l13.568 0.219c0.758 0.012 1.428 0.663 1.464 1.42l0.929 19.947c0.104 2.213 1.427 3.893 3.08 3.909 1.681 0 2.982-1.733 2.982-3.945v-51.521c0-2.22-1.382-3.959-3.146-3.959-1.73 0-3.165 1.711-3.267 3.894l-0.984 21.078c-0.033 0.702-0.649 1.24-1.341 1.192l-13.164-0.953c-0.821-0.06-1.672-0.856-1.787-1.672l-2.794-19.872c-0.259-1.842-1.379-3.708-3.016-3.708m20.856 28.847c2.079 0 3.782-1.63 3.879-3.711l0.984-21.078c0.042-0.881 0.504-1.355 0.638-1.378 0.113 0.032 0.506 0.492 0.506 1.32v51.521c0 0.646-0.202 1.064-0.341 1.24-0.169-0.183-0.419-0.645-0.451-1.327l-0.93-19.946c-0.099-2.136-1.918-3.902-4.054-3.937l-13.611-0.219c-2.14 0-3.945 1.672-4.11 3.806l-1.567 20.289c-0.051 0.668-0.299 1.079-0.452 1.24-0.171-0.188-0.435-0.691-0.447-1.405l-0.92-51.287c-0.007-0.388 0.045-0.706 0.112-0.944 0.128 0.258 0.253 0.616 0.314 1.045l2.793 19.873c0.29 2.057 2.138 3.785 4.208 3.935l13.164 0.953c0.096 0.007 0.191 0.01 0.285 0.01"/>
        </g>
        <g transform="translate(891.51 362.7)">
          <path id="letter-Ob" d="m0 0c-0.597 0-1.16 0.098-1.673 0.293l-23.698 8.974c-1.861 0.705-3.317 2.817-3.317 4.807v26.34c0 1.831 1.007 4.154 2.343 5.405l13.758 12.879c0.856 0.801 2.085 1.26 3.372 1.26 0.876 0 1.704-0.214 2.395-0.621l21.648-12.727c1.652-0.971 2.902-3.233 2.847-5.15l-0.63-21.825c-0.05-1.744-0.99-4.14-2.139-5.454l-10.919-12.473c-0.922-1.054-2.449-1.708-3.987-1.708m-9.215 57.319c-0.608 0-1.21-0.21-1.572-0.549l-13.757-12.879c-0.79-0.739-1.508-2.396-1.508-3.477v-26.34c0-0.904 0.769-2.019 1.614-2.339l23.698-8.974c0.211-0.08 0.466-0.122 0.74-0.122 0.776 0 1.581 0.325 2.004 0.808l10.919 12.474c0.759 0.867 1.454 2.639 1.487 3.791l0.63 21.824c0.028 0.972-0.709 2.306-1.546 2.799l-21.649 12.727c-0.283 0.166-0.659 0.257-1.06 0.257"/>
        </g>
      </g>
    </g>
  </svg>
</template>

<script>
import anime from 'animejs/lib/anime.es.js'

export default {
  name: 'LogoVertical',
  data () {
    return {
      animated: false,
      logoHovered: false,
      logoAnime: null
    }
  },
  created () {
    // this.$parent.$on('in-logo-animated', event => {
    //   this.changeLogo(event ? 'in' : 'out')
    // })

    document.addEventListener('scroll', () => {
      if (this.getScrollPercent().documentPercent > 33 && !this.animated) {
        this.changeLogo('in')
        this.animated = true
      }

      if (this.getScrollPercent().documentPercent <= 33 && this.animated) {
        this.changeLogo('out')
        this.animated = false
      }
    })
  },
  methods: {
    overLogo () {
      if (!this.logoAnime) {
        this.logoAnime = anime({
          targets: '#logo-vertical'
        })
      }
      if (!this.logoHovered) {
        this.logoAnime.play()
      }
    },
    outLogo () {
      this.logoHovered = false
      this.logoAnime.reverse()
    },
    changeLogo (type) {
      const alt = type === 'in'

      anime({
        targets: '#logo-vertical',
        width: alt ? 260 : 500
      })

      const tl = anime.timeline({
        easing: 'easeInOutSine',
        // delay: function (el, i) { return i * 100 },
        duration: 120,
        autoplay: true
      })

      tl
        .add({
          targets: '#letter-Cb',
          translateX: alt ? 136 : 0,
          translateY: alt ? 80 : 0
        })
        .add({
          targets: '#letter-E',
          translateX: alt ? 128 : 0,
          translateY: alt ? 80 : 0
        })
        .add({
          targets: '#letter-P',
          translateX: alt ? 123 : 0,
          translateY: alt ? 80 : 0
        })
        .add({
          targets: '#letter-T',
          translateX: alt ? 260 : 0,
          translateY: alt ? 160 : 0
        })
        .add({
          targets: '#letter-H',
          translateX: alt ? 254 : 0,
          translateY: alt ? 160 : 0
        })
        .add({
          targets: '#letter-Ob',
          translateX: alt ? 254 : 0,
          translateY: alt ? 160 : 0
        })
    },
    getScrollPercent () {
      const h = document.documentElement
      const b = document.body
      const st = 'scrollTop'
      const sh = 'scrollHeight'
      return {
        totalPercent: (h[st] || b[st]) / ((h[sh] || b[sh]) - h.clientHeight) * 100,
        documentPercent: Math.round((h[st] / h.clientHeight) * 100)
      }
    }
  }
}
</script>

<style>
#logo-vertical {
  fill: currentColor;
}
</style>
